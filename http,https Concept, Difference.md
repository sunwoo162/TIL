# http와 https의 개념과 차이점
## http
### 개념
```
Hyper Text Ransfe Protocol의 약자
World wide web(WWW,웹)상에서 데이터를 주고받기 위한 프로토콜
*프로토콜 : 컴퓨터나 기기 간에 데이터를 교환할 때 지켜야하는 규칙체계
```
### 작동
```
클라이언트와 서버 간의 요청과 응답을 통해 작동함
다양한 종류의 데이터를 전송할 수 있도록 설계된 프로토콜(html,css,javaScript,png,gif,mp4)
웹 페이지에 포함된 각 구성요소는 대부분 개별적인 HTTP 요청을 통해 서버로부터 요청된다(이미지,텍스트,HTML,영상 등)
TCP/IP 통신 프로토콜 기반으로 동작한다.
http:로 시작하는 URL(인터넷 주소)로 조회할 수 있으며, 사용하는 포트는 80번이다.
```
* 상태가 없는 프로토콜
```
데이터를 주고받기 위해 행해지는 각각의 데이터 요청이
서로 독립적으로 관리된다는 뜻, 이전 데이터 요청과 다음 데이터 요청이 서로 관련 없다는 것
```
* 단방향성
```
하나의 요청에 하나의 응답을 하는 방식으로 동작
```
### 단점
```
데이터를 평문(사람이 알아볼 수 있는 정보)으로 전송해 도청 및 데이터 변조의 위험이 있다.
* 중간에서 패킷을 가로채어 내용을 엿볼 수 있고, 필요에 따라 수정할 수도 있기에 보안에 취약함.
```
### 흐름
```
1. 사용자가 웹 브라우저의 주소창에 https://www.google.com을 입력한다
2. 브라우저는 입력된 도메인 이름(www.google.com)을 IP 주소로 변환하기 위해 DNS 서버에 요청 보냄
3. 브라우저는 받은 IP 주소를 통해 구글 서버와 TCP연결을 설정한다
4. TCP 연결이 설정되면, 브라우저는 HTTP요청 메세지를 구글 서버에 보낸다
5. 서버가 요청을 처리하고 HTTP 응답을 전송한다.
6. 브라우저가 응답을 받아 화면에 구글 웹 사이트를 표시한다.
```
### 요청 메서드
#### : 클라이언트가 서버에 요청을 보낼 때 사용되는 명령어
```
1. GET : 정보를 요청하기 위해 사용(조회)
2. HEAD : 요청과 동일하지만, 응답 바디를 제외한 헤더 정보만을 요청
3. POST : 서버에 데이터를 전송(추가)할 때 사용 (등록)
4. PUT : 정보를 업데이트(갱신)하기 위해 사용, 정보 변경 (수정)
5. DELETE : 정보를 삭제하기 위해 사용 (삭제)
6. OPTIONS : 서버에 지원하는 HTTP 메서드의 목록을 요청할 때 사용
7. PATCH : 리소스의 일부분을 수정
8. CONNECT : 프록시 동작의 터널 접속을 변경
```
## https
### 개념
```
Hyper Text Transfer Protocol Secure의 약자
웹 통신 프로토콜인 HTTP의 보안 버전을 의미함
데이터의 안전한 전송을 위해 사용됨
웹 사이트와 웹 브라우저 간의 통신을 암호화하여 보호한다.
http 단점중 *를 해결한것
```
### 작동
```
1. 사이트는 공개키와 개인키를 만들고, 신뢰할 수 있는 인증 기관(CA)에 자신의 사이트 정보와 공개키를 인증 요청함
2. 인증 기관은 사이트가 제출한 정보를 검증하고, 인증 기관의 개인키로 사이트에서 제출한 정보를 암호화해서 인증서를 제작
3. 제작된 인증서를 사이트에 발급
4. 인증 기관은 웹 브라우저에게 자신의 공개키 제공
5. 사용자가 사이트에 접속을 요청
6. 사이트는 인증 기관에서 발급받은 인증서를 사용자에게 전달
7. 사용자는 4. 에서 인증 기관에게 받은 공개키로 인증서를 검증
8. 인증서를 해독하여 사이트의 정보와 서버의 공개키를 획득
9. 획득한 사이트 공개키로 대칭키를 암호화하여 전송
10. 전송 받은 데이터를 사이트 개인키로 해독하여 사이트도 대칭키를 획득한다.
11. 안전하게 전달된 대칭키를 사용하여 암호화된 정보를 주고 받을 수 있게 된다
```
### 장단점
```
웹사이트의 무결성을 보호해준다. 웹 사이트와 사용자 브라우저 사이의 통신을 침입자가 건드리지 못하도록 한다.
침입자가 웹사이트와 사용자 사이의 통신을 몰래 수신하는 것을 방지함으로써 보안을 강화해준다.
새 기능과 업데이트된 API에 대한 권한 허락을 가능하게 한다
검색 엔진 최적화(키워드 검색 시 상위 노출되는 기준 중 하나가 보완 요소이다)
모든 사이트에서 텍스트를 암호화해서 주고 받으면 과부하가 걸려 속도 저하 됨(중요사이트 https사용 다른사이트 http사용)
무조건 안전하지는 않다
### 암호화
```
https는 대칭키 암호화와 공개키 암호화를 조합하여 작동한다
```
```
#### 암호화 방식
##### 공개키 방식
```
 데이터를 안전하게 전송하고 인증하는 데 사용
 두 개의 서로 다른 키를 사용하여 데이터를 암호화하고 복호화하는 방법을 기반으로 함
 ```
 ##### 대칭키 방식
 ```
 데이터를 암호화하고 복호화하는 데 동일한 키를 사용하는 방식
 * 특징
 1. 동일한 키로 암호화, 복호화가 가능하다동일한 키로 암호화, 복호화가 가능하다
 2. 대칭키는 매번 랜덤으로 생성되어 누출되어도 다음에 사용할 때는 다른 키가 사용되기 때문에 안전하다
 3. 공개키보다 빠르게 통신할 수 있다
```
###### 두개의 서로 다른 키
 ```
 공개키
 누구나 볼 수 있고, 누구나 사용할 수 있는 키
 데이터를 암호화하는 데 사용
 암호화된 데이터는 해당 공개 키로만 해독 가능
 ```
 ```
 개인키
 공개되면 안되는 비밀 키
 보안이 매우 중요
 ```
 ```
 수신자는 자신의 개인키를 사용하여 암호화된 데이터를 해독하여 원래의 평문 데이터를 얻을 수 있다
 ```
